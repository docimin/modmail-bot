import{S as k,i as D,s as I,e as y,b as M,E,h as g,a2 as q,o as N,a3 as W,l as C,m as O,n as V,p as j,q as v,a4 as A}from"./index-f39ef2b4.js";function L(r){let t;return{c(){t=C("div"),this.h()},l(e){t=O(e,"DIV",{id:!0,style:!0}),V(t).forEach(g),this.h()},h(){j(t,"id","svelte-infinite-scroll"),v(t,"width","0")},m(e,o){M(e,t,o),r[11](t)},p:E,d(e){e&&g(t),r[11](null)}}}function B(r){let t,e=!r[1]&&!r[0]&&L(r);return{c(){e&&e.c(),t=y()},l(o){e&&e.l(o),t=y()},m(o,s){e&&e.m(o,s),M(o,t,s)},p(o,[s]){!o[1]&&!o[0]?e?e.p(o,s):(e=L(o),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:E,o:E,d(o){e&&e.d(o),o&&g(t)}}}function F(r,t,e){let{threshold:o=0}=t,{horizontal:s=!1}=t,{elementScroll:m=null}=t,{hasMore:u=!0}=t,{reverse:c=!1}=t,{window:_=!1}=t;const H=q();let f=!1,d,S,b,n;const a=l=>{if(!u)return;const h=l.target;T(h,c,s)<=o?(!f&&u&&(H("loadMore"),e(8,S=h.scrollHeight),e(9,b=h.scrollTop)),e(7,f=!0)):e(7,f=!1)},T=(l,h,w)=>{const i=l.documentElement?l.documentElement:l;return h?w?i.scrollLeft:i.scrollTop:w?i.scrollWidth-i.clientWidth-i.scrollLeft:i.scrollHeight-i.clientHeight-i.scrollTop};N(()=>{_?e(10,n=document):m?e(10,n=m):e(10,n=d.parentNode)}),W(()=>{n&&(n.removeEventListener("scroll",a),n.removeEventListener("resize",a))});function z(l){A[l?"unshift":"push"](()=>{d=l,e(2,d)})}return r.$$set=l=>{"threshold"in l&&e(3,o=l.threshold),"horizontal"in l&&e(4,s=l.horizontal),"elementScroll"in l&&e(0,m=l.elementScroll),"hasMore"in l&&e(5,u=l.hasMore),"reverse"in l&&e(6,c=l.reverse),"window"in l&&e(1,_=l.window)},r.$$.update=()=>{r.$$.dirty&1088&&n&&(c&&e(10,n.scrollTop=n.scrollHeight,n),n.addEventListener("scroll",a),n.addEventListener("resize",a)),r.$$.dirty&1984&&f&&c&&e(10,n.scrollTop=n.scrollHeight-S+b,n)},[m,_,d,o,s,u,c,f,S,b,n,z]}class J extends k{constructor(t){super(),D(this,t,F,B,I,{threshold:3,horizontal:4,elementScroll:0,hasMore:5,reverse:6,window:1})}}export{J as I};
